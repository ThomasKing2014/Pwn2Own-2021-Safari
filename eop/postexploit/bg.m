#import <Foundation/Foundation.h>
#import <Cocoa/Cocoa.h>

int main() {
    @autoreleasepool {
        NSURL* imgURL = [NSURL fileURLWithPath:@"/tmp/logo.png"];
        NSDictionary* opts = @{
            NSWorkspaceDesktopImageScalingKey: [NSNumber numberWithInt:NSImageScaleNone],
            NSWorkspaceDesktopImageAllowClippingKey: @NO,
            NSWorkspaceDesktopImageFillColorKey: [NSColor colorWithRed:0 green:0 blue:0 alpha:1]
        };
        [[NSWorkspace sharedWorkspace] setDesktopImageURL:imgURL forScreen:[NSScreen mainScreen] options:opts error:nil];
    }
    return 0;
}
